<html>
<head>
	<title>onPHP: quick examples</title>
	<style type="text/css" media="all">@import "style.css";</style>
</head>
<body>

<font size="-1"><p style="text-align: right;">en / <a href="index.ru.html">ru</a></p></font>

<h1>onPHP</h1>

<hr>

<p>
	<a href="index.en.html">home</a>
	&gt; examples &lt;
	<a href="https://svn.shadanakar.org/onPHP/trunk/doc/FEATURES">features</a>
	<a href="https://svn.shadanakar.org/onPHP/trunk/doc/FAQ">faq</a>
	<a href="download.en.html">download</a>
	<a href="https://svn.shadanakar.org/onPHP/">svn</a>
	<a href="http://svn.shadanakar.org/listing.php?repname=onPHP&path=%2F&sc=0">websvn</a>
</p>

<p>
	<a href="#OSQL">OSQL</a>
	<a href="#DAOs">DAOs</a>
</p>

<h2><a name="OSQL">OSQL</a></h2>

<p>select query:</p>

<pre>
<span style="color: #007700">echo
    </span><span style="color: #0000BB">OSQL</span><span style="color: #007700">::</span><span style="color: #0000BB">select</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">from</span><span style="color: #007700">(</span><span style="color: #DD0000">'employers'</span><span style="color: #007700">)-&gt;
    </span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #DD0000">'name'</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #DD0000">'birth_date'</span><span style="color: #007700">)-&gt;
    </span><span style="color: #0000BB">where</span><span style="color: #007700">(
        </span><span style="color: #0000BB">Expression</span><span style="color: #007700">::</span><span style="color: #0000BB">between</span><span style="color: #007700">(</span>
            </span><span style="color: #DD0000">'birth_date'</span><span style="color: #007700">,
            </span><span style="color: #0000BB">DBValue</span><span style="color: #007700">::</span><span style="color: #0000BB">create</span><span style="color: #007700">(</span><span style="color: #0000BB">1980</span><span style="color: #007700">),
            </span><span style="color: #0000BB">SQLFunction</span><span style="color: #007700">::</span><span style="color: #0000BB">create</span><span style="color: #007700">(</span><span style="color: #DD0000">'now'</span><span style="color: #007700">)
        )
    )-&gt;
        </span><span style="color: #0000BB">toString</span><span style="color: #007700">(
            </span><span style="color: #0000BB">DBFactory</span><span style="color: #007700">::</span><span style="color: #0000BB">getDefaultInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getDialect</span><span style="color: #007700">()
        );</span>
</pre>
<p style="text-align: center;">==</p>
<pre>
    <b>SELECT</b> <span style="color: #007700">"employers"</span>.<span style="color: #007700">"id"</span>, <span style="color: #007700">"employers"</span>.<span style="color: #007700">"name"</span>, <span style="color: #007700">"employers"</span>.<span style="color: #007700">"birth_date"</span>
    <b>FROM</b> <span style="color: #007700">"employers"</span>
    <b>WHERE (</b><span style="color: #007700">"birth_date"</span> <b>BETWEEN</b> <span style="color: #DD0000">'1980'</span> <b>AND</b> now()<b>)</b>
</pre>

<hr>

<p>delete query:</p>

<pre>
<span style="color: #007700">echo
    </span><span style="color: #0000BB">OSQL</span><span style="color: #007700">::</span><span style="color: #0000BB">delete</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">from</span><span style="color: #007700">(</span><span style="color: #DD0000">'pity_table'</span><span style="color: #007700">)-&gt;
    </span><span style="color: #0000BB">toString</span><span style="color: #007700">(
        </span><span style="color: #0000BB">DBFactory</span><span style="color: #007700">::</span><span style="color: #0000BB">getDefaultInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getDialect</span><span style="color: #007700">()
    );</span>
</pre>
<p style="text-align: center;">==</p>
<pre>
    Fatal error: Uncaught [leave 'pity_table' table alone in peace] in: ...
</pre>

<hr>

<h2><a name="DAO">DAOs</a></h2>

<p>TBD</p>

<hr>

<p style="text-align: right; font-size: 75%;">
	<!-- origin: Andrew Morton (http://www.zipworld.com.au/~akpm/) -->
	powered by `tar xfj /dev/tty`<br />
	$Id$
</font>

</body></html>